import{ad as N,ae as U,af as j,ag as Y,U as v,ah as x,W as o,z as B,ai as z,a9 as K,a7 as Z,aj as $,ak as G,O as H,T as C,A as W,R as J,al as F,am as Q,an as V,ao as X,ap as k,aq as p,ar as ee}from"./UEtDJnaa.js";import{s as g,a as c,m as re}from"./zlmlivjM.js";function R(n,u=null,b){if(typeof n!="object"||n===null||N in n)return n;const y=K(n);if(y!==U&&y!==j)return n;var f=new Map,I=Z(n),m=g(0);I&&f.set("length",g(n.length));var P;return new Proxy(n,{defineProperty(i,e,r){(!("value"in r)||r.configurable===!1||r.enumerable===!1||r.writable===!1)&&Y();var a=f.get(e);return a===void 0?(a=g(r.value),f.set(e,a)):c(a,R(r.value,P)),!0},deleteProperty(i,e){var r=f.get(e);if(r===void 0)e in i&&f.set(e,g(v));else{if(I&&typeof e=="string"){var a=f.get("length"),t=Number(e);Number.isInteger(t)&&t<a.v&&c(a,t)}c(r,v),M(m)}return!0},get(i,e,r){var _;if(e===N)return n;var a=f.get(e),t=e in i;if(a===void 0&&(!t||(_=x(i,e))!=null&&_.writable)&&(a=g(R(t?i[e]:v,P)),f.set(e,a)),a!==void 0){var s=o(a);return s===v?void 0:s}return Reflect.get(i,e,r)},getOwnPropertyDescriptor(i,e){var r=Reflect.getOwnPropertyDescriptor(i,e);if(r&&"value"in r){var a=f.get(e);a&&(r.value=o(a))}else if(r===void 0){var t=f.get(e),s=t==null?void 0:t.v;if(t!==void 0&&s!==v)return{enumerable:!0,configurable:!0,value:s,writable:!0}}return r},has(i,e){var s;if(e===N)return!0;var r=f.get(e),a=r!==void 0&&r.v!==v||Reflect.has(i,e);if(r!==void 0||B!==null&&(!a||(s=x(i,e))!=null&&s.writable)){r===void 0&&(r=g(a?R(i[e],P):v),f.set(e,r));var t=o(r);if(t===v)return!1}return a},set(i,e,r,a){var S;var t=f.get(e),s=e in i;if(I&&e==="length")for(var _=r;_<t.v;_+=1){var w=f.get(_+"");w!==void 0?c(w,v):_ in i&&(w=g(v),f.set(_+"",w))}t===void 0?(!s||(S=x(i,e))!=null&&S.writable)&&(t=g(void 0),c(t,R(r,P)),f.set(e,t)):(s=t.v!==v,c(t,R(r,P)));var d=Reflect.getOwnPropertyDescriptor(i,e);if(d!=null&&d.set&&d.set.call(a,r),!s){if(I&&typeof e=="string"){var E=f.get("length"),h=Number(e);Number.isInteger(h)&&h>=E.v&&c(E,h+1)}M(m)}return!0},ownKeys(i){o(m);var e=Reflect.ownKeys(i).filter(t=>{var s=f.get(t);return s===void 0||s.v!==v});for(var[r,a]of f)a.v!==v&&!(r in i)&&e.push(r);return e},setPrototypeOf(){z()}})}function M(n,u=1){c(n,n.v+u)}let T=!1;function ae(n){var u=T;try{return T=!1,[n(),T]}finally{T=u}}function te(n){for(var u=B,b=B;u!==null&&!(u.f&(W|J));)u=u.parent;try{return F(u),n()}finally{F(b)}}function fe(n,u,b,y){var q;var f=(b&Q)!==0,I=!V,m=(b&X)!==0,P=(b&ee)!==0,i=!1,e;m?[e,i]=ae(()=>n[u]):e=n[u];var r=N in n||k in n,a=m&&(((q=x(n,u))==null?void 0:q.set)??(r&&u in n&&(l=>n[u]=l)))||void 0,t=y,s=!0,_=!1,w=()=>(_=!0,s&&(s=!1,P?t=C(y):t=y),t);e===void 0&&y!==void 0&&(a&&I&&$(),e=w(),a&&a(e));var d;if(d=()=>{var l=n[u];return l===void 0?w():(s=!0,_=!1,l)},!(b&G))return d;if(a){var E=n.$$legacy;return function(l,O){return arguments.length>0?((!O||E||i)&&a(O?d():l),l):d()}}var h=!1,S=!1,D=re(e),A=te(()=>p(()=>{var l=d(),O=o(D);return h?(h=!1,S=!0,O):(S=!1,D.v=l)}));return f||(A.equals=H),function(l,O){if(arguments.length>0){const L=O?o(A):m?R(l):l;return A.equals(L)||(h=!0,c(D,L),_&&t!==void 0&&(t=L),C(()=>o(A))),l}return o(A)}}export{R as a,fe as p};
