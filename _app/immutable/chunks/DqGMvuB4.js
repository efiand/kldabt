import{ad as N,ae as U,af as j,ag as Y,X as b,U as v,ah as x,A as B,ai as K,a9 as Z,a7 as $,T as q,aj as z,ak as G,y as H,al as X,am as J,an as Q,F as V,R as W,ao as C,ap as k,aq as p}from"./CjKDtBTR.js";import{s as g,a as c,m as ee}from"./BtKwDaF9.js";function O(n,u=null,o){if(typeof n!="object"||n===null||N in n)return n;const y=Z(n);if(y!==U&&y!==j)return n;var f=new Map,I=$(n),m=g(0);I&&f.set("length",g(n.length));var P;return new Proxy(n,{defineProperty(i,e,r){(!("value"in r)||r.configurable===!1||r.enumerable===!1||r.writable===!1)&&K();var t=f.get(e);return t===void 0?(t=g(r.value),f.set(e,t)):c(t,O(r.value,P)),!0},deleteProperty(i,e){var r=f.get(e);if(r===void 0)e in i&&f.set(e,g(v));else{if(I&&typeof e=="string"){var t=f.get("length"),a=Number(e);Number.isInteger(a)&&a<t.v&&c(t,a)}c(r,v),M(m)}return!0},get(i,e,r){var _;if(e===N)return n;var t=f.get(e),a=e in i;if(t===void 0&&(!a||(_=x(i,e))!=null&&_.writable)&&(t=g(O(a?i[e]:v,P)),f.set(e,t)),t!==void 0){var s=b(t);return s===v?void 0:s}return Reflect.get(i,e,r)},getOwnPropertyDescriptor(i,e){var r=Reflect.getOwnPropertyDescriptor(i,e);if(r&&"value"in r){var t=f.get(e);t&&(r.value=b(t))}else if(r===void 0){var a=f.get(e),s=a==null?void 0:a.v;if(a!==void 0&&s!==v)return{enumerable:!0,configurable:!0,value:s,writable:!0}}return r},has(i,e){var s;if(e===N)return!0;var r=f.get(e),t=r!==void 0&&r.v!==v||Reflect.has(i,e);if(r!==void 0||B!==null&&(!t||(s=x(i,e))!=null&&s.writable)){r===void 0&&(r=g(t?O(i[e],P):v),f.set(e,r));var a=b(r);if(a===v)return!1}return t},set(i,e,r,t){var S;var a=f.get(e),s=e in i;if(I&&e==="length")for(var _=r;_<a.v;_+=1){var w=f.get(_+"");w!==void 0?c(w,v):_ in i&&(w=g(v),f.set(_+"",w))}a===void 0?(!s||(S=x(i,e))!=null&&S.writable)&&(a=g(void 0),c(a,O(r,P)),f.set(e,a)):(s=a.v!==v,c(a,O(r,P)));var d=Reflect.getOwnPropertyDescriptor(i,e);if(d!=null&&d.set&&d.set.call(t,r),!s){if(I&&typeof e=="string"){var E=f.get("length"),h=Number(e);Number.isInteger(h)&&h>=E.v&&c(E,h+1)}M(m)}return!0},ownKeys(i){b(m);var e=Reflect.ownKeys(i).filter(a=>{var s=f.get(a);return s===void 0||s.v!==v});for(var[r,t]of f)t.v!==v&&!(r in i)&&e.push(r);return e},setPrototypeOf(){Y()}})}function M(n,u=1){c(n,n.v+u)}let T=!1;function re(n){var u=T;try{return T=!1,[n(),T]}finally{T=u}}function te(n){for(var u=B,o=B;u!==null&&!(u.f&(V|W));)u=u.parent;try{return C(u),n()}finally{C(o)}}function ie(n,u,o,y){var F;var f=(o&k)!==0,I=!0,m=(o&X)!==0,P=(o&Q)!==0,i=!1,e;m?[e,i]=re(()=>n[u]):e=n[u];var r=N in n||J in n,t=m&&(((F=x(n,u))==null?void 0:F.set)??(r&&u in n&&(l=>n[u]=l)))||void 0,a=y,s=!0,_=!1,w=()=>(_=!0,s&&(s=!1,P?a=q(y):a=y),a);e===void 0&&y!==void 0&&(t&&I&&z(),e=w(),t&&t(e));var d;if(d=()=>{var l=n[u];return l===void 0?w():(s=!0,_=!1,l)},!(o&G))return d;if(t){var E=n.$$legacy;return function(l,R){return arguments.length>0?((!R||E||i)&&t(R?d():l),l):d()}}var h=!1,S=!1,D=ee(e),A=te(()=>p(()=>{var l=d(),R=b(D);return h?(h=!1,S=!0,R):(S=!1,D.v=l)}));return f||(A.equals=H),function(l,R){if(arguments.length>0){const L=R?b(A):m?O(l):l;return A.equals(L)||(h=!0,c(D,L),_&&a!==void 0&&(a=L),q(()=>b(A))),l}return b(A)}}export{O as a,ie as p};
